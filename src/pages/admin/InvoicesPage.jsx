/* eslint-disable no-unused-vars */
import React, { useState, useEffect } from 'react';
import { mockInvoices } from '../../../mock_data/mockInvoices';
import '../admin/styles/InvoicePage.css';

const InvoicePage = () => {
  const [invoices, setInvoices] = useState(mockInvoices);
  const [filteredInvoices, setFilteredInvoices] = useState(mockInvoices);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedInvoice, setSelectedInvoice] = useState(invoices[1]); // Default to INV10012

  // Filter invoices based on search
  useEffect(() => {
    if (searchTerm) {
      const filtered = invoices.filter(invoice =>
        invoice.invoiceNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||
        invoice.clientName.toLowerCase().includes(searchTerm.toLowerCase()) ||
        invoice.status.toLowerCase().includes(searchTerm.toLowerCase())
      );
      setFilteredInvoices(filtered);
    } else {
      setFilteredInvoices(invoices);
    }
  }, [invoices, searchTerm]);

  const handleSearch = (e) => {
    setSearchTerm(e.target.value);
  };

  const handleInvoiceSelect = (invoice) => {
    setSelectedInvoice(invoice);
  };

  const getStatusClass = (status) => {
    switch (status.toLowerCase()) {
      case 'paid': return 'status-paid';
      case 'unpaid': return 'status-unpaid';
      case 'overdue': return 'status-overdue';
      default: return 'status-default';
    }
  };

  const formatDate = (dateString) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit'
    });
  };

  const formatTime = (dateString) => {
    return new Date(dateString).toLocaleTimeString('en-US', {
      hour: '2-digit',
      minute: '2-digit'
    });
  };

  // Calculate stats
  const stats = {
    paid: { count: invoices.filter(inv => inv.status.toLowerCase() === 'paid').length, lastMonth: 1805 },
    unpaid: { count: invoices.filter(inv => inv.status.toLowerCase() === 'unpaid').length, lastMonth: 535 },
    overdue: { count: invoices.filter(inv => inv.status.toLowerCase() === 'overdue').length, lastMonth: 80 }
  };

  return (
    <div className="invoice-page">
      <div className="invoice-layout">
        {/* Left Panel - Invoice List */}
        <div className="invoice-list-panel">
          {/* Stats Cards */}
          <div className="stats-row">
            <div className="stat-card">
              
              <div className="stat-label">
                Paid
                <span className="stat-icon paid-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.22894 2.58226C6.06892 2.7208 5.87725 2.86669 5.65805 2.95786C5.43722 3.04971 5.19867 3.081 4.98869 3.0948C4.85121 3.10383 4.6978 3.10628 4.55799 3.10851C4.49164 3.10957 4.42835 3.11058 4.37127 3.11222C3.95072 3.12432 3.73664 3.17602 3.62284 3.28983C3.50967 3.40299 3.46005 3.61069 3.44937 4.02866C3.448 4.08219 3.44719 4.14091 3.44633 4.20247C3.44435 4.34529 3.44215 4.5034 3.43235 4.64745C3.41786 4.86049 3.38477 5.10082 3.29045 5.32604C3.19712 5.5489 3.05116 5.7424 2.91106 5.90469C2.81549 6.0154 2.70523 6.13049 2.60518 6.23494C2.5626 6.27938 2.52186 6.3219 2.4849 6.36133C2.34973 6.50551 2.24528 6.62792 2.17422 6.7432C2.10492 6.85561 2.08301 6.93659 2.08301 7C2.08301 7.06282 2.10516 7.14512 2.17597 7.26022C2.24818 7.3776 2.35405 7.5023 2.48964 7.64755C2.5284 7.68907 2.57139 7.73408 2.61631 7.7811C2.71487 7.88427 2.82268 7.99713 2.91527 8.10406C3.05381 8.26408 3.1997 8.45576 3.29087 8.67495C3.38272 8.89579 3.414 9.13433 3.42781 9.34432C3.43684 9.4818 3.43929 9.6352 3.44152 9.77502C3.44258 9.84137 3.44359 9.90466 3.44523 9.96174C3.45733 10.3823 3.50903 10.5964 3.62284 10.7102C3.736 10.8233 3.9437 10.873 4.36166 10.8836C4.4152 10.885 4.47393 10.8858 4.5355 10.8867C4.67832 10.8887 4.83642 10.8909 4.98046 10.9007C5.19349 10.9151 5.43383 10.9482 5.65904 11.0426C5.8819 11.1359 6.07541 11.2818 6.2377 11.4219C6.34841 11.5175 6.4635 11.6278 6.56794 11.7278C6.61239 11.7704 6.65491 11.8111 6.69434 11.8481C6.83852 11.9833 6.96093 12.0877 7.07621 12.1588C7.18862 12.2281 7.26959 12.25 7.33301 12.25C7.39583 12.25 7.47813 12.2278 7.59323 12.157C7.71061 12.0848 7.83531 11.979 7.98056 11.8434C8.02208 11.8046 8.06709 11.7616 8.11411 11.7167C8.21728 11.6181 8.33013 11.5103 8.43707 11.4177C8.59709 11.2792 8.78877 11.1333 9.00796 11.0421C9.2288 10.9503 9.46734 10.919 9.67732 10.9052C9.8148 10.8962 9.9682 10.8937 10.108 10.8915C10.1744 10.8904 10.2377 10.8894 10.2947 10.8878C10.7153 10.8757 10.9294 10.824 11.0432 10.7102C11.1563 10.597 11.206 10.3893 11.2166 9.97134C11.218 9.91781 11.2188 9.85908 11.2197 9.79751C11.2217 9.65469 11.2239 9.49659 11.2337 9.35255C11.2482 9.13951 11.2812 8.89918 11.3756 8.67397C11.4689 8.4511 11.6149 8.2576 11.755 8.09531C11.8505 7.9846 11.9608 7.86951 12.0608 7.76507C12.1034 7.72062 12.1441 7.6781 12.1811 7.63867C12.3163 7.49449 12.4207 7.37208 12.4918 7.2568C12.5611 7.14439 12.583 7.06341 12.583 7C12.583 6.93718 12.5609 6.85488 12.49 6.73978C12.4178 6.6224 12.312 6.4977 12.1764 6.35245C12.1376 6.31093 12.0946 6.26592 12.0497 6.2189C11.9511 6.11573 11.8433 6.00287 11.7507 5.89594C11.6122 5.73592 11.4663 5.54424 11.3751 5.32505C11.2833 5.10421 11.252 4.86567 11.2382 4.65568C11.2292 4.5182 11.2267 4.36481 11.2245 4.22499C11.2234 4.15864 11.2224 4.09534 11.2208 4.03826C11.2087 3.61771 11.157 3.40363 11.0432 3.28983C10.93 3.17666 10.7223 3.12704 10.3044 3.11636C10.2508 3.11499 10.1921 3.11418 10.1305 3.11332C9.98771 3.11134 9.8296 3.10914 9.68556 3.09935C9.47252 3.08486 9.23219 3.05177 9.00697 2.95745C8.78411 2.86411 8.59061 2.71816 8.42832 2.57806C8.3176 2.48248 8.20251 2.37222 8.09807 2.27217C8.05363 2.22959 8.01111 2.18886 7.97167 2.15189C7.8275 2.01672 7.70509 1.91228 7.58981 1.84121C7.47739 1.77192 7.39642 1.75 7.33301 1.75C7.27019 1.75 7.18789 1.77215 7.07279 1.84296C6.95541 1.91517 6.8307 2.02104 6.68545 2.15663C6.64393 2.19539 6.59892 2.23839 6.55191 2.2833C6.44873 2.38186 6.33588 2.48967 6.22894 2.58226ZM6.61432 1.09769C6.8123 0.975893 7.05403 0.875 7.33301 0.875C7.61139 0.875 7.85171 0.974765 8.04896 1.09636C8.24335 1.21619 8.41899 1.37185 8.57012 1.51354C8.62514 1.56512 8.67592 1.61381 8.72446 1.66035C8.81991 1.75187 8.9067 1.83509 9.0001 1.91572C9.13654 2.0335 9.24792 2.10972 9.34498 2.15037C9.43969 2.19003 9.56849 2.21436 9.74493 2.22636C9.86541 2.23456 9.98222 2.23611 10.1116 2.23784C10.1791 2.23874 10.25 2.23969 10.3267 2.24165C10.7113 2.25147 11.2719 2.28115 11.6619 2.67111C12.0512 3.06043 12.0843 3.62565 12.0954 4.0131C12.0978 4.0959 12.099 4.17165 12.1 4.24346C12.1019 4.36822 12.1036 4.48107 12.1113 4.5983C12.123 4.77574 12.1464 4.90087 12.1831 4.98902C12.2204 5.07881 12.2939 5.18654 12.4123 5.3232C12.4913 5.41444 12.5724 5.49929 12.6617 5.59263C12.7104 5.64354 12.7615 5.69698 12.816 5.75537C12.9586 5.90816 13.1149 6.08561 13.2353 6.28131C13.3571 6.4793 13.458 6.72103 13.458 7C13.458 7.27838 13.3582 7.5187 13.2366 7.71596C13.1168 7.91034 12.9612 8.08598 12.8195 8.23711C12.7679 8.29213 12.7192 8.34291 12.6727 8.39144C12.5811 8.48689 12.4979 8.57369 12.4173 8.66709C12.2995 8.80353 12.2233 8.91491 12.1826 9.01197C12.143 9.10668 12.1186 9.23549 12.1066 9.41193C12.0985 9.5324 12.0969 9.64922 12.0952 9.77859C12.0943 9.8461 12.0933 9.91704 12.0914 9.9937C12.0815 10.3783 12.0519 10.9389 11.6619 11.3289C11.2726 11.7182 10.7074 11.7513 10.3199 11.7624C10.2371 11.7648 10.1614 11.7659 10.0896 11.767C9.96479 11.7689 9.85194 11.7706 9.73471 11.7783C9.55727 11.79 9.43214 11.8134 9.34399 11.85C9.2542 11.8874 9.14646 11.9609 9.0098 12.0793C8.91856 12.1582 8.83372 12.2394 8.74038 12.3287C8.68947 12.3774 8.63603 12.4285 8.57764 12.483C8.42485 12.6256 8.2474 12.7819 8.0517 12.9023C7.85371 13.0241 7.61198 13.125 7.33301 13.125C7.05463 13.125 6.81431 13.0252 6.61705 12.9036C6.42267 12.7838 6.24703 12.6281 6.09589 12.4865C6.04087 12.4349 5.9901 12.3862 5.94156 12.3397C5.84611 12.2481 5.75932 12.1649 5.66592 12.0843C5.52948 11.9665 5.4181 11.8903 5.32104 11.8496C5.22633 11.81 5.09752 11.7856 4.92108 11.7736C4.80061 11.7654 4.68379 11.7639 4.55442 11.7622C4.48691 11.7613 4.41597 11.7603 4.33931 11.7584C3.95474 11.7485 3.39408 11.7189 3.00412 11.3289C2.6148 10.9396 2.58174 10.3744 2.57059 9.9869C2.56821 9.9041 2.56707 9.82835 2.56598 9.75655C2.5641 9.63179 2.56239 9.51893 2.55469 9.4017C2.54303 9.22426 2.51962 9.09913 2.48296 9.01098C2.44562 8.92119 2.37207 8.81346 2.25375 8.6768C2.17476 8.58556 2.0936 8.50071 2.00433 8.40737C1.95563 8.35646 1.90451 8.30302 1.85001 8.24463C1.70738 8.09184 1.55109 7.91439 1.4307 7.71869C1.3089 7.5207 1.20801 7.27897 1.20801 7C1.20801 6.72162 1.30777 6.4813 1.42937 6.28404C1.5492 6.08966 1.70486 5.91402 1.84655 5.76289C1.89813 5.70786 1.94682 5.65709 1.99336 5.60855C2.08488 5.5131 2.16809 5.42631 2.24873 5.33291C2.36651 5.19647 2.44273 5.08509 2.48337 4.98803C2.52304 4.89332 2.54737 4.76451 2.55937 4.58807C2.56756 4.4676 2.56912 4.35078 2.57085 4.22141C2.57175 4.1539 2.5727 4.08296 2.57465 4.0063C2.58448 3.62173 2.61416 3.06107 3.00412 2.67111C3.39344 2.28179 3.95866 2.24873 4.34611 2.23758C4.42891 2.2352 4.50466 2.23406 4.57646 2.23297C4.70122 2.23109 4.81408 2.22939 4.9313 2.22168C5.10875 2.21002 5.23388 2.18662 5.32202 2.14995C5.41182 2.11261 5.51955 2.03906 5.65621 1.92074C5.74745 1.84175 5.8323 1.7606 5.92564 1.67132C5.97655 1.62262 6.02999 1.5715 6.08837 1.517C6.24117 1.37437 6.41862 1.21808 6.61432 1.09769Z" fill="url(#paint0_linear_448_16601)"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0558 5.38551C10.2226 5.56033 10.2161 5.83727 10.0413 6.00405L6.83109 9.06655C6.66195 9.22791 6.39584 9.2278 6.22684 9.0663L4.6245 7.53505C4.44981 7.36811 4.44353 7.09117 4.61046 6.91649C4.7774 6.7418 5.05433 6.73552 5.22902 6.90245L6.52936 8.1451L9.43727 5.37095C9.61209 5.20416 9.88903 5.21068 10.0558 5.38551Z" fill="url(#paint1_linear_448_16601)"/>
  <defs>
    <linearGradient id="paint0_linear_448_16601" x1="7.33301" y1="0.875" x2="7.33301" y2="13.125" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2B9FF1"/>
      <stop offset="1" stop-color="#1552FA"/>
    </linearGradient>
    <linearGradient id="paint1_linear_448_16601" x1="7.33301" y1="0.875" x2="7.33301" y2="13.125" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2B9FF1"/>
      <stop offset="1" stop-color="#1552FA"/>
    </linearGradient>
  </defs>
                  </svg>
                </span>
              </div>
              <div className="stat-number">1,805</div>
              <div className="stat-subtitle">Last Month: 1,805</div>
            </div>
            
            <div className="stat-card">
              <div className="stat-label">
                Unpaid
                <span className="stat-icon unpaid-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="15" height="14" viewBox="0 0 15 14" fill="none">
  <path d="M12.041 1.75H3.29102C3.05895 1.75 2.83639 1.84219 2.6723 2.00628C2.5082 2.17038 2.41602 2.39294 2.41602 2.625V11.375C2.41602 11.6071 2.5082 11.8296 2.6723 11.9937C2.83639 12.1578 3.05895 12.25 3.29102 12.25H12.041C12.2731 12.25 12.4956 12.1578 12.6597 11.9937C12.8238 11.8296 12.916 11.6071 12.916 11.375V2.625C12.916 2.39294 12.8238 2.17038 12.6597 2.00628C12.4956 1.84219 12.2731 1.75 12.041 1.75ZM12.041 11.375H3.29102V2.625H12.041V11.375ZM9.72555 5.55953L8.28453 7L9.72555 8.44047C9.7662 8.48112 9.79844 8.52937 9.82044 8.58248C9.84244 8.63559 9.85376 8.69251 9.85376 8.75C9.85376 8.80749 9.84244 8.86441 9.82044 8.91752C9.79844 8.97063 9.7662 9.01888 9.72555 9.05953C9.6849 9.10018 9.63664 9.13242 9.58353 9.15442C9.53042 9.17642 9.4735 9.18774 9.41602 9.18774C9.35853 9.18774 9.30161 9.17642 9.2485 9.15442C9.19539 9.13242 9.14713 9.10018 9.10648 9.05953L7.66602 7.61852L6.22555 9.05953C6.1849 9.10018 6.13664 9.13242 6.08353 9.15442C6.03042 9.17642 5.9735 9.18774 5.91602 9.18774C5.85853 9.18774 5.80161 9.17642 5.7485 9.15442C5.69539 9.13242 5.64713 9.10018 5.60648 9.05953C5.56584 9.01888 5.53359 8.97063 5.51159 8.91752C5.48959 8.86441 5.47827 8.80749 5.47827 8.75C5.47827 8.69251 5.48959 8.63559 5.51159 8.58248C5.53359 8.52937 5.56584 8.48112 5.60648 8.44047L7.0475 7L5.60648 5.55953C5.52439 5.47744 5.47827 5.3661 5.47827 5.25C5.47827 5.1339 5.52439 5.02256 5.60648 4.94047C5.68858 4.85838 5.79992 4.81226 5.91602 4.81226C6.03211 4.81226 6.14345 4.85838 6.22555 4.94047L7.66602 6.38148L9.10648 4.94047C9.14713 4.89982 9.19539 4.86758 9.2485 4.84558C9.30161 4.82358 9.35853 4.81226 9.41602 4.81226C9.4735 4.81226 9.53042 4.82358 9.58353 4.84558C9.63664 4.86758 9.6849 4.89982 9.72555 4.94047C9.7662 4.98112 9.79844 5.02937 9.82044 5.08248C9.84244 5.13559 9.85376 5.19251 9.85376 5.25C9.85376 5.30749 9.84244 5.36441 9.82044 5.41752C9.79844 5.47063 9.7662 5.51888 9.72555 5.55953Z" fill="url(#paint0_linear_448_16625)"/>
  <defs>
    <linearGradient id="paint0_linear_448_16625" x1="7.66602" y1="1.75" x2="7.66602" y2="12.25" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2B9FF1"/>
      <stop offset="1" stop-color="#1552FA"/>
    </linearGradient>
  </defs>
                  </svg>
                </span>
              </div>
               <div className="stat-number">535</div>
              <div className="stat-subtitle">Last Month: 615</div>
            </div>
            
            <div className="stat-card">
              <div className="stat-label">
                Overdue
                <span className="stat-icon overdue-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7 3.9375C7.24162 3.9375 7.4375 4.13338 7.4375 4.375V7.4375C7.4375 7.67913 7.24162 7.875 7 7.875C6.75838 7.875 6.5625 7.67913 6.5625 7.4375V4.375C6.5625 4.13338 6.75838 3.9375 7 3.9375Z" fill="url(#paint0_linear_448_16649)"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.99546 1.3125C9.10949 1.31222 9.22247 1.33437 9.32796 1.3777C9.43372 1.42114 9.52989 1.48501 9.61094 1.56566L9.6117 1.56642L12.4343 4.38907C12.515 4.47012 12.5789 4.56628 12.6223 4.67204C12.6656 4.77755 12.6878 4.89056 12.6875 5.00462L12.6875 5.00544L12.6875 5.00391V5.00462V8.98053C12.6875 9.21259 12.5953 9.43515 12.4312 9.59925L9.59925 12.4312C9.43515 12.5953 9.21259 12.6875 8.98053 12.6875H4.99372C4.76165 12.6875 4.53909 12.5953 4.375 12.4312L1.56878 9.625C1.40469 9.46091 1.3125 9.23835 1.3125 9.00628V4.97363C1.3125 4.73996 1.40596 4.51599 1.57207 4.35164L4.38787 1.56552C4.55169 1.40342 4.77284 1.3125 5.0033 1.3125H8.99546ZM8.99534 2.1875L11.8125 5.00466V8.98053L8.98053 11.8125H4.99372L2.1875 9.00628V4.97363L5.0033 2.1875H8.99534Z" fill="url(#paint1_linear_448_16649)"/>
  <path d="M7 10.0625C7.36244 10.0625 7.65625 9.76869 7.65625 9.40625C7.65625 9.04382 7.36244 8.75 7 8.75C6.63756 8.75 6.34375 9.04382 6.34375 9.40625C6.34375 9.76869 6.63756 10.0625 7 10.0625Z" fill="url(#paint2_linear_448_16649)"/>
  <defs>
    <linearGradient id="paint0_linear_448_16649" x1="7" y1="1.3125" x2="7" y2="12.6875" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2B9FF1"/>
      <stop offset="1" stop-color="#1552FA"/>
    </linearGradient>
    <linearGradient id="paint1_linear_448_16649" x1="7" y1="1.3125" x2="7" y2="12.6875" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2B9FF1"/>
      <stop offset="1" stop-color="#1552FA"/>
    </linearGradient>
    <linearGradient id="paint2_linear_448_16649" x1="7" y1="1.3125" x2="7" y2="12.6875" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2B9FF1"/>
      <stop offset="1" stop-color="#1552FA"/>
    </linearGradient>
  </defs>
                  </svg>
                </span>
              </div>
                <div className="stat-number">80</div>
              <div className="stat-subtitle">Last Month: 70</div>
            </div>
          </div>

          <div className='invoice-list-main'>
              {/* Invoice List Header */}
              <div className="invoice-list-header">
                <h2>Invoice List</h2>
                <button className="more-btn">⋯</button>
              </div>

              {/* Search */}
              <div className="search-container">
                <input
                  type="text"
                  placeholder="Search Invoice"
                  value={searchTerm}
                  onChange={handleSearch}
                  className="search-input"
                />
                <button className="search-btn">
                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 12.0938C2.25 11.7831 2.50184 11.5312 2.8125 11.5312H9.5625C9.87316 11.5312 10.125 11.7831 10.125 12.0938C10.125 12.4044 9.87316 12.6562 9.5625 12.6562H2.8125C2.50184 12.6562 2.25 12.4044 2.25 12.0938Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.25 12.0938C11.25 11.7831 11.5018 11.5312 11.8125 11.5312H15.1875C15.4982 11.5312 15.75 11.7831 15.75 12.0938C15.75 12.4044 15.4982 12.6562 15.1875 12.6562H11.8125C11.5018 12.6562 11.25 12.4044 11.25 12.0938Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M2.25 5.90625C2.25 5.59559 2.50184 5.34375 2.8125 5.34375H5.0625C5.37316 5.34375 5.625 5.59559 5.625 5.90625C5.625 6.21691 5.37316 6.46875 5.0625 6.46875H2.8125C2.50184 6.46875 2.25 6.21691 2.25 5.90625Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.75 5.90625C6.75 5.59559 7.00184 5.34375 7.3125 5.34375H15.1875C15.4982 5.34375 15.75 5.59559 15.75 5.90625C15.75 6.21691 15.4982 6.46875 15.1875 6.46875H7.3125C7.00184 6.46875 6.75 6.21691 6.75 5.90625Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.3125 3.65625C7.62316 3.65625 7.875 3.90809 7.875 4.21875V7.59375C7.875 7.90441 7.62316 8.15625 7.3125 8.15625C7.00184 8.15625 6.75 7.90441 6.75 7.59375V4.21875C6.75 3.90809 7.00184 3.65625 7.3125 3.65625Z" fill="white"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M11.8125 9.84375C12.1232 9.84375 12.375 10.0956 12.375 10.4062V13.7812C12.375 14.0919 12.1232 14.3438 11.8125 14.3438C11.5018 14.3438 11.25 14.0919 11.25 13.7812V10.4062C11.25 10.0956 11.5018 9.84375 11.8125 9.84375Z" fill="white"/>
                  </svg>
                </button>
                <button className="add-btn">Add</button>
              </div>

              {/* Invoice List */}
              <div className="invoice-list">
                {filteredInvoices.map((invoice) => (
                  <div 
                    key={invoice.id}
                    className={`invoice-item ${selectedInvoice?.id === invoice.id ? 'selected' : ''}`}
                    onClick={() => handleInvoiceSelect(invoice)}
                  >
                    <div className="invoice-item-header">
                      <span className="invoice-number">{invoice.invoiceNumber}</span>
                      <span className="invoice-amount">${invoice.amount}</span>
                    </div>
                    <div className="invoice-item-details">
                      <span className="invoice-date">
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                          <path d="M11.375 1.75H10.0625V1.3125C10.0625 1.19647 10.0164 1.08519 9.93436 1.00314C9.85231 0.921094 9.74103 0.875 9.625 0.875C9.50897 0.875 9.39769 0.921094 9.31564 1.00314C9.23359 1.08519 9.1875 1.19647 9.1875 1.3125V1.75H4.8125V1.3125C4.8125 1.19647 4.76641 1.08519 4.68436 1.00314C4.60231 0.921094 4.49103 0.875 4.375 0.875C4.25897 0.875 4.14769 0.921094 4.06564 1.00314C3.98359 1.08519 3.9375 1.19647 3.9375 1.3125V1.75H2.625C2.39294 1.75 2.17038 1.84219 2.00628 2.00628C1.84219 2.17038 1.75 2.39294 1.75 2.625V11.375C1.75 11.6071 1.84219 11.8296 2.00628 11.9937C2.17038 12.1578 2.39294 12.25 2.625 12.25H11.375C11.6071 12.25 11.8296 12.1578 11.9937 11.9937C12.1578 11.8296 12.25 11.6071 12.25 11.375V2.625C12.25 2.39294 12.1578 2.17038 11.9937 2.00628C11.8296 1.84219 11.6071 1.75 11.375 1.75ZM3.9375 2.625V3.0625C3.9375 3.17853 3.98359 3.28981 4.06564 3.37186C4.14769 3.45391 4.25897 3.5 4.375 3.5C4.49103 3.5 4.60231 3.45391 4.68436 3.37186C4.76641 3.28981 4.8125 3.17853 4.8125 3.0625V2.625H9.1875V3.0625C9.1875 3.17853 9.23359 3.28981 9.31564 3.37186C9.39769 3.45391 9.50897 3.5 9.625 3.5C9.74103 3.5 9.85231 3.45391 9.93436 3.37186C10.0164 3.28981 10.0625 3.17853 10.0625 3.0625V2.625H11.375V4.375H2.625V2.625H3.9375ZM11.375 11.375H2.625V5.25H11.375V11.375ZM7.65625 7.21875C7.65625 7.34854 7.61776 7.47542 7.54565 7.58334C7.47354 7.69126 7.37105 7.77538 7.25114 7.82505C7.13122 7.87472 6.99927 7.88771 6.87197 7.86239C6.74467 7.83707 6.62774 7.77457 6.53596 7.68279C6.44418 7.59101 6.38168 7.47408 6.35636 7.34678C6.33104 7.21948 6.34403 7.08753 6.3937 6.96761C6.44337 6.8477 6.52749 6.74521 6.63541 6.6731C6.74333 6.60099 6.87021 6.5625 7 6.5625C7.17405 6.5625 7.34097 6.63164 7.46404 6.75471C7.58711 6.87778 7.65625 7.0447 7.65625 7.21875ZM10.0625 7.21875C10.0625 7.34854 10.024 7.47542 9.9519 7.58334C9.87979 7.69126 9.7773 7.77538 9.65739 7.82505C9.53747 7.87472 9.40552 7.88771 9.27822 7.86239C9.15092 7.83707 9.03399 7.77457 8.94221 7.68279C8.85043 7.59101 8.78793 7.47408 8.76261 7.34678C8.73729 7.21948 8.75028 7.08753 8.79995 6.96761C8.84962 6.8477 8.93374 6.74521 9.04166 6.6731C9.14958 6.60099 9.27646 6.5625 9.40625 6.5625C9.5803 6.5625 9.74722 6.63164 9.87029 6.75471C9.99336 6.87778 10.0625 7.0447 10.0625 7.21875ZM5.25 9.40625C5.25 9.53604 5.21151 9.66292 5.1394 9.77084C5.06729 9.87876 4.9648 9.96288 4.84489 10.0125C4.72497 10.0622 4.59302 10.0752 4.46572 10.0499C4.33842 10.0246 4.22149 9.96207 4.12971 9.87029C4.03793 9.77851 3.97543 9.66158 3.95011 9.53428C3.92479 9.40698 3.93778 9.27503 3.98745 9.15511C4.03712 9.0352 4.12124 8.93271 4.22916 8.8606C4.33708 8.78849 4.46396 8.75 4.59375 8.75C4.7678 8.75 4.93472 8.81914 5.05779 8.94221C5.18086 9.06528 5.25 9.2322 5.25 9.40625ZM7.65625 9.40625C7.65625 9.53604 7.61776 9.66292 7.54565 9.77084C7.47354 9.87876 7.37105 9.96288 7.25114 10.0125C7.13122 10.0622 6.99927 10.0752 6.87197 10.0499C6.74467 10.0246 6.62774 9.96207 6.53596 9.87029C6.44418 9.77851 6.38168 9.66158 6.35636 9.53428C6.33104 9.40698 6.34403 9.27503 6.3937 9.15511C6.44337 9.0352 6.52749 8.93271 6.63541 8.8606C6.74333 8.78849 6.87021 8.75 7 8.75C7.17405 8.75 7.34097 8.81914 7.46404 8.94221C7.58711 9.06528 7.65625 9.2322 7.65625 9.40625ZM10.0625 9.40625C10.0625 9.53604 10.024 9.66292 9.9519 9.77084C9.87979 9.87876 9.7773 9.96288 9.65739 10.0125C9.53747 10.0622 9.40552 10.0752 9.27822 10.0499C9.15092 10.0246 9.03399 9.96207 8.94221 9.87029C8.85043 9.77851 8.78793 9.66158 8.76261 9.53428C8.73729 9.40698 8.75028 9.27503 8.79995 9.15511C8.84962 9.0352 8.93374 8.93271 9.04166 8.8606C9.14958 8.78849 9.27646 8.75 9.40625 8.75C9.5803 8.75 9.74722 8.81914 9.87029 8.94221C9.99336 9.06528 10.0625 9.2322 10.0625 9.40625Z" fill="#9F9FA1"/>
                        </svg> 
                         {formatDate(invoice.issueDate)} {formatTime(invoice.issueDate)}</span>
                      <span className={`invoice-status ${getStatusClass(invoice.status)}`}>
                        {invoice.status}
                      </span>
                    </div>
                  </div>
                ))}
              </div>
          </div>
        </div>

        {/* Right Panel - Invoice Details */}
      <div className="invoice-details-panel">
          {selectedInvoice && (
            <>
              <div className="invoice-details-header">
                <h2>Invoice Details</h2>
                <div className="header-left">
                  <button className="download-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                      <path fillRule="evenodd" clipRule="evenodd" d="M4.39377 5.70627C4.56462 5.53541 4.84163 5.53541 5.01248 5.70627L7 7.69378L8.98752 5.70627C9.15837 5.53541 9.43538 5.53541 9.60623 5.70627C9.77709 5.87712 9.77709 6.15413 9.60623 6.32498L7.30936 8.62186C7.1385 8.79271 6.8615 8.79271 6.69064 8.62186L4.39377 6.32498C4.22291 6.15413 4.22291 5.87712 4.39377 5.70627Z" fill="#434345"/>
                      <path fillRule="evenodd" clipRule="evenodd" d="M7 1.75C7.24162 1.75 7.4375 1.94588 7.4375 2.1875V8.3125C7.4375 8.55412 7.24162 8.75 7 8.75C6.75838 8.75 6.5625 8.55412 6.5625 8.3125V2.1875C6.5625 1.94588 6.75838 1.75 7 1.75Z" fill="#434345"/>
                      <path fillRule="evenodd" clipRule="evenodd" d="M2.1875 7.875C2.42912 7.875 2.625 8.07088 2.625 8.3125V11.375H11.375V8.3125C11.375 8.07088 11.5709 7.875 11.8125 7.875C12.0541 7.875 12.25 8.07088 12.25 8.3125V11.375C12.25 11.6071 12.1578 11.8296 11.9937 11.9937C11.8296 12.1578 11.6071 12.25 11.375 12.25H2.625C2.39294 12.25 2.17038 12.1578 2.00628 11.9937C1.84219 11.8296 1.75 11.6071 1.75 11.375V8.3125C1.75 8.07088 1.94588 7.875 2.1875 7.875Z" fill="#434345"/>
                    </svg>
                     Download</button>
                  <button className="nav-btn">‹</button>
                  <button className="nav-btn">›</button>
                </div>
              </div>
              
              <div className='invoice-details-card'>
                <div style={{background: 'var(--Primary-100, linear-gradient(180deg, #2B9FF1 0%, #1552FA 100%))',height:'6px',width:'95%',margin:'auto',borderRadius:'20px 20px 0px 0px'}}></div>
                <div className="invoice-details-content">
                  {/* Invoice Header */}
                  <div className="invoice-header-section">
                    <div className="invoice-header-left">
                      <div className="invoice-number-large">#{selectedInvoice.invoiceNumber}</div>
                      <span className={`status-badge large ${getStatusClass(selectedInvoice.status)}`}>
                        {selectedInvoice.status}
                      </span>
                    </div>
                    <div className="invoice-dates">
                      <div>
                        <strong>Issued Date:</strong> {formatDate(selectedInvoice.issueDate)}, {formatTime(selectedInvoice.issueDate)}
                      </div>
                      <div>
                        <strong>Due Date:</strong> {formatDate(selectedInvoice.dueDate)}, {formatTime(selectedInvoice.dueDate)}
                      </div>
                    </div>
                  </div>

                  {/* Bill From/To */}
                  <div className="billing-section">
                    <div className="bill-from">
                      <h4>Bill From</h4>
                      <div className="company-info">
                        <strong style={{color:'#1E1E20'}}>{selectedInvoice.fromCompany}</strong><br/>
                        {selectedInvoice.fromAddress}<br/>
                        {selectedInvoice.fromCity}<br/>
                        {selectedInvoice.fromZip}
                      </div>
                      <div className="contact-info">
                        {selectedInvoice.fromEmail}<br/>
                        {selectedInvoice.fromPhone}
                      </div>
                    </div>
                    
                    <div className="bill-to">
                      <h4>Bill To</h4>
                      <div className="company-info">
                        <strong style={{color:'#1E1E20'}}>{selectedInvoice.clientName}</strong><br/>
                        {selectedInvoice.toAddress}<br/>
                        {selectedInvoice.toCity}<br/>
                        {selectedInvoice.toZip}
                      </div>
                      <div className="contact-info">
                        {selectedInvoice.clientEmail}<br/>
                        {selectedInvoice.toPhone}
                      </div>
                    </div>
                  </div>

                  {/* Ticket Details Table */}
                  <div className="ticket-details-section">
                    <h4>Ticket Details</h4>
                    <table className="details-table">
                      <thead>
                        <tr>
                          <th>Ticket Category ↕</th>
                          <th>Price ↕</th>
                          <th>Qty ↕</th>
                          <th>Amount ↕</th>
                        </tr>
                      </thead>
                      <tbody>
                        {selectedInvoice.items.map((item, index) => (
                          <tr key={index}>
                            <td>{item.category}</td>
                            <td>${item.price}</td>
                            <td>{item.qty}</td>
                            <td>${item.amount}</td>
                          </tr>
                        ))}
                        
                        {/* Totals rows integrated into the table */}
                        <tr className="totals-row">
                          <td colSpan="3" style={{textAlign: 'left', fontWeight: '400'}}>Sub Total</td>
                          <td style={{fontWeight: '400'}}>${selectedInvoice.subTotal}</td>
                        </tr>
                        <tr className="totals-row">
                          <td colSpan="3" style={{textAlign: 'left', fontWeight: '400'}}>Tax (10%)</td>
                          <td style={{fontWeight: '400'}}>${selectedInvoice.tax}</td>
                        </tr>
                        <tr className="totals-row">
                          <td colSpan="3" style={{textAlign: 'left', fontWeight: '400'}}>Fee</td>
                          <td style={{fontWeight: '400'}}>${selectedInvoice.fee}</td>
                        </tr>
                        <tr className="totals-row">
                          <td colSpan="3" style={{textAlign: 'left', fontWeight: '600', fontSize: '16px'}}>Total</td>
                          <td style={{fontWeight: '600', fontSize: '16px'}}>${selectedInvoice.total}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  {/* Notes */}
                  <div className="notes-section">
                    <h4>Note</h4>
                    <p>{selectedInvoice.note}</p>
                  </div>

                </div>
              </div>

                {/* Action Buttons */}
                <div className="action-buttons">
                  <button className="btn-edit">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.1906 1.44064C10.3615 1.26979 10.6385 1.26979 10.8094 1.44064L12.5594 3.19064C12.7302 3.3615 12.7302 3.6385 12.5594 3.80936L7.30936 9.05936C7.22731 9.14141 7.11603 9.1875 7 9.1875H5.25C5.00838 9.1875 4.8125 8.99162 4.8125 8.75V7C4.8125 6.88397 4.85859 6.77269 4.94064 6.69064L10.1906 1.44064ZM5.6875 7.18122V8.3125H6.81878L11.6313 3.5L10.5 2.36872L5.6875 7.18122Z" fill="#434345"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.87814 2.75314C9.049 2.58229 9.326 2.58229 9.49686 2.75314L11.2469 4.50314C11.4177 4.674 11.4177 4.951 11.2469 5.12186C11.076 5.29271 10.799 5.29271 10.6281 5.12186L8.87814 3.37186C8.70729 3.201 8.70729 2.924 8.87814 2.75314Z" fill="#434345"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M2.00628 2.00628C2.17038 1.84219 2.39294 1.75 2.625 1.75H7.4375C7.67912 1.75 7.875 1.94588 7.875 2.1875C7.875 2.42912 7.67912 2.625 7.4375 2.625L2.625 2.625L2.625 11.375H11.375V6.5625C11.375 6.32088 11.5709 6.125 11.8125 6.125C12.0541 6.125 12.25 6.32088 12.25 6.5625V11.375C12.25 11.6071 12.1578 11.8296 11.9937 11.9937C11.8296 12.1578 11.6071 12.25 11.375 12.25H2.625C2.39294 12.25 2.17038 12.1578 2.00628 11.9937C1.84219 11.8296 1.75 11.6071 1.75 11.375V2.625C1.75 2.39294 1.84219 2.17038 2.00628 2.00628Z" fill="#434345"/>
                    </svg>
                     Edit Invoice</button>
                  <button className="btn-send">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M2.46721 0.956045C2.6441 0.938272 2.8222 0.9748 2.97781 1.06077L2.98004 1.062L12.2148 6.23434L12.2159 6.23499C12.3522 6.31064 12.4658 6.42131 12.5449 6.55557C12.6243 6.69022 12.6662 6.84366 12.6662 6.99996C12.6662 7.15626 12.6243 7.30971 12.5449 7.44436C12.4658 7.57862 12.3522 7.68929 12.2159 7.76494L12.2148 7.76559L2.97781 12.9392C2.8222 13.0251 2.64409 13.0617 2.46721 13.0439C2.29033 13.0261 2.12305 12.9549 1.98766 12.8397C1.85226 12.7245 1.75517 12.5708 1.70931 12.399C1.6635 12.2274 1.67097 12.046 1.73071 11.8788L3.47004 6.99996L1.73093 2.1217C1.6711 1.95443 1.66347 1.77257 1.70931 1.60093C1.75517 1.42917 1.85226 1.27546 1.98766 1.16025C2.12305 1.04505 2.29033 0.973817 2.46721 0.956045ZM11.7892 6.99886L2.55469 1.82666L2.55491 1.82727L4.29145 6.69834C4.36699 6.89232 4.36699 7.10761 4.29145 7.30159L2.55469 12.1733L11.7892 7.00107L11.7912 6.99996L11.7892 6.99886Z" fill="#434345"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M3.49906 6.99996C3.49906 6.75834 3.69493 6.56246 3.93656 6.56246H7.43656C7.67818 6.56246 7.87406 6.75834 7.87406 6.99996C7.87406 7.24159 7.67818 7.43746 7.43656 7.43746H3.93656C3.69493 7.43746 3.49906 7.24159 3.49906 6.99996Z" fill="#434345"/>
                    </svg>
                     Send Invoice</button>
                  <button className="btn-hold">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M7 3.9375C7.24162 3.9375 7.4375 4.13338 7.4375 4.375V7.4375C7.4375 7.67913 7.24162 7.875 7 7.875C6.75838 7.875 6.5625 7.67913 6.5625 7.4375V4.375C6.5625 4.13338 6.75838 3.9375 7 3.9375Z" fill="#434345"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M8.99546 1.3125C9.10949 1.31222 9.22247 1.33437 9.32796 1.3777C9.43372 1.42114 9.52989 1.48501 9.61094 1.56566L9.6117 1.56642L12.4343 4.38907C12.515 4.47012 12.5789 4.56628 12.6223 4.67204C12.6656 4.77755 12.6878 4.89056 12.6875 5.00462L12.6875 5.00544L12.6875 5.00391V5.00462V8.98053C12.6875 9.21259 12.5953 9.43515 12.4312 9.59925L9.59925 12.4312C9.43515 12.5953 9.21259 12.6875 8.98053 12.6875H4.99372C4.76165 12.6875 4.53909 12.5953 4.375 12.4312L1.56878 9.625C1.40469 9.46091 1.3125 9.23835 1.3125 9.00628V4.97363C1.3125 4.73996 1.40596 4.51599 1.57207 4.35164L4.38787 1.56552C4.55169 1.40342 4.77284 1.3125 5.0033 1.3125H8.99546ZM8.99534 2.1875L11.8125 5.00466V8.98053L8.98053 11.8125H4.99372L2.1875 9.00628V4.97363L5.0033 2.1875H8.99534Z" fill="#434345"/>
                      <path d="M7 10.0625C7.36244 10.0625 7.65625 9.76869 7.65625 9.40625C7.65625 9.04382 7.36244 8.75 7 8.75C6.63756 8.75 6.34375 9.04382 6.34375 9.40625C6.34375 9.76869 6.63756 10.0625 7 10.0625Z" fill="#434345"/>
                    </svg>
                     Hold Invoice</button>
                </div>
            </>
          )}
        </div>
      </div>
    </div>
  );
};

export default InvoicePage;